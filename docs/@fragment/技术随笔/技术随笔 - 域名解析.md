---
title: 技术随笔 - 域名解析
date: 2021-12-01 23:21:36
permalink: /domain/name/
titleTag: 原创
sidebar: auto
categories: 
  - 技术随笔
tags: 
  - 技术随笔
---

说一下购买服务器的流程，这里是阿里云服务器：<https://www.aliyun.com/>

1. 前往阿里云搜索「服务器 ECS」，按自己的理想配置和经济购买
2. 购买域名，选择自己喜欢的英文名和后缀
3. 购买域名时，需要填写自己的信息模板，然后等待十多分钟给阿里云审核成功，才能完成域名购买
4. 进行域名解析，阿里云里搜索「域名」，点击进入控制台，右侧有解析按钮，点击解析后进入新的界面，点击添加记录
5. 添加记录的选项参数就是本内容的介绍重点，在下方
6. 添加完记录后，购买 SSL 证书，有免费版，购买后下载证书到服务器进行配置，具体看 [SSL 证书生成](/nginx/reverse-proxy/#ssl证书生成)
7. 购买域名后的两三天左右，记得去备案，否则域名就无法访问，被拦截。在阿里云里面搜索「ICP 备案」，安装流程他们自带

域名解析中点击添加记录后，填入各种记录类型，这里进行详细说明。

## 主机记录

主机记录就是域名前缀，比如我的域名是 `youngkbt.cn`，常见用法有：

- www：解析后的域名为 `www.youngkbt.cn`，此时就需要加 www. 才能访问域名
- @：直接解析主域名 `youngkbt.cn`，也就是直接在地址栏输入域名即可
- ：泛解析，匹配其他所有域名 `*.youngkbt.cn`

## 记录类型

要指向空间商提供的 IP 地址，选择「类型 A」，要指向一个域名，选择「类型 CNAME」

- A 记录：地址记录，用来指定域名的 IPv4 地址（如：8.8.8.8），如果需要将域名指向一个 IP 地址，就需要添加 A 记录。

- CNAME：如果需要将域名指向另一个域名，再由另一个域名提供 ip 地址，就需要添加 CNAME 记录。

- NS：域名服务器记录，如果需要把子域名交给其他DNS服务商解析，就需要添加NS记录。

- AAA：用来指定主机名（或域名）对应的 IPv6 地址（例如：ff06:0:0:0:0:0:0:c3）记录。

- MX：如果需要设置邮箱，让邮箱能收到邮件，就需要添加 MX 记录。

如果打算绑定自己的服务器 IP，选择 A 记录即可。

## 线路

让指定线路的用户访问这个 IP

常见用法有：

- 默认：必须添加，否则只有单独指定的线路才能访问您的网站。如果双线解析，建议「默认」线路填写「电信 IP」

- 联通：单独为「联通用户」指定服务器 IP，其他用户依然访问「默认」

- 搜索引擎：指定一个服务器 IP 让抓取

## 记录值

最常见的是将空间商提供的「IP 地址」填写在这里。

比如我填写的是我的服务器 IP，或者如果你的博客部署在 Github 或者 Gitee，可以填写 GitHub Pages 或者 Gitee Pages 的地址。

各类型的记录值一般是这样的：

- A 记录：填写您服务器 IP，如果您不知道，请咨询您的空间商

- CNAME 记录：填写空间商给您提供的域名，例如：2.com

- MX 记录：填写您邮件服务器的IP地址或企业邮局给您提供的域名，如果您不知道，请咨询您的邮件服务提供商

- AAAA：不常用。解析到 IPv6 的地址。

- NS 记录：不常用。系统默认添加的两个NS记录请不要修改。NS向下授权，填写dns域名，例如：ns3.dnsv3.com

- TTL: 我们默认的 600 秒是最常用的，不用修改

    即 Time To Live，缓存的生存时间。指地方dns缓存您域名记录信息的时间，缓存失效后会再次到DNSPod获取记录值。

    **600（10分钟）：建议正常情况下使用 600。**

    60（1分钟）：如果您经常修改 IP，修改记录一分钟即可生效。长期使用 60，解析速度会略受影响。

    3600（1小时）：如果您 IP 极少变动（一年几次），建议选择 3600，解析速度快。如果要修改IP，提前一天改为 60，即可快速生效。
